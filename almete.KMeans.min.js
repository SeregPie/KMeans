(function(c){if('undefined'!=typeof module&&'undefined'!=typeof exports&&this===exports)c(module);else{let d={};c(d),(this.almete=this.almete||{}).KMeans=d.exports}}).call(this,function(c){let d=function(o,p,q=0,r){let t=o.length;for(r=void 0===r?t:Math.min(r,t);q<r&&!(!1===p(o[q],q));)++q},e=function(o,p,q=0,r){let t=o.length;for(r=void 0===r?t:Math.min(r,t);--r>=q;)o[r]=p(r);return o},f=function(o,p){let q=Array(o.length);return d(o,(r,t)=>{q[t]=p(r,t)}),q},g=function(o,p){let q,r=Infinity;return d(o,(t,u)=>{let w=p(t,u);w<r&&(r=w,q=t)}),q},h=function(o,p){return f(o,(q,r)=>[q,p[r]])},j=function(o,p){let q=!0;return d(o,(r,t)=>{if(!p(r,t))return q=!1}),q},k=function(){return[]},m={maxIterations:1024,map:function(o){return o},isEqual:function(o,p){return j(o,(q,r)=>q===p[r])},distanceBetween:function(o,p){let q=0;return d(o,(r,t)=>{q+=Math.pow(r-p[t],2)}),Math.sqrt(q)},meanOf:function(o){let p=o.length;return f(o[0],(q,r)=>{return d(o,t=>{q+=t[r]},1),q/p})}},n=function(o,p,q){let{maxIterations:r,map:t,isEqual:u,distanceBetween:w,meanOf:x}=Object.assign({},m,q);if(1>r)return[];let y=o.length;if(1>y)return[];let z,A=o;if(Array.isArray(p)){if(z=p.length,1>z)return[];if(1===z)return[A.slice()];o=f(o,E=>t(E)),p=f(p,E=>t(E))}else{if(z=p,1>z)return[];if(1===z)return[A.slice()];if(z>=y){let E=Array(z);return e(E,F=>[A[F]],0,y),e(E,k,y),E}o=f(o,E=>t(E)),p=o.slice(0,z)}let B=h(A,o),C,D;do{if(C=f(p,E=>[[],[],E]),d(B,([E,F])=>{let[G,H]=g(C,([I,J,K])=>w(F,K));G.push(E),H.push(F)}),1>--r)break;D=!1,p=f(C,([E,F,G])=>{if(1>F.length)return G;let H=x(F);return u(G,H)||(D=!0),H})}while(D);return f(C,([E])=>E)};Object.assign(n,m),c.exports=n});