!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("just-my-luck"),require("@seregpie/vector-math")):"function"==typeof define&&define.amd?define(["just-my-luck","@seregpie/vector-math"],e):(r=r||self).KMeans=e(r.JustMyLuck,r.VectorMath)}(this,(function(r,e){"use strict";function t(r){return Array.from({length:r})}function n(){return[]}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var a=Object.assign((function(e,o,i){void 0===i&&(i={});var u=i.distance;void 0===u&&(u=a.distance);var f=i.map;void 0===f&&(f=a.map);var c=i.maxIterations;void 0===c&&(c=a.maxIterations);var m=i.mean;void 0===m&&(m=a.mean);var d=i.random;void 0===d&&(d=a.random);var p,s=Number.isFinite(o);if(s?p=o:(o=Array.from(o),p=o.length),!p)return[];if(e=Array.from(e),1===p)return[e];var v,l=new r(d),h=e.map(f);v=s?l.combination(h,p):o.map(f);for(var y=[],b=function(r){var e=!0;if(h.forEach((function(r,t){var n,a,o=(n=function(e){return u(r,e)},a=0,v.map(n).reduce((function(r,e,t){return e<r&&(r=e,a=t),r})),a);o!==y[t]&&(y[t]=o,e=!1)})),e)return"break";var a=t(p).map(n);y.forEach((function(r,e){a[r].push(h[e])})),v=v.map((function(r,e){var t=a[e];return t.length&&(r=m.apply(void 0,t)),r}))},g=0;g<c;g++){if("break"===b())break}var j=t(p).map(n);return y.forEach((function(r,t){j[r].push(e[t])})),j}),{distance:e.distance,map:function(r){return r},maxIterations:1024,mean:e.mean,random:Math.random});return a}));
