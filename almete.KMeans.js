!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n.almete=n.almete||{},n.almete.KMeans=r())}(this,function(){"use strict";var n=function(n,r){var t,e=1/0;return n.forEach(function(n,u){var i=r(n,u);i<e&&(e=i,t=n)}),t},r=function(n){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];return n.map(function(n,t){return[n].concat(r.map(function(n){return n[t]}))})},t=function(e,u,i){var a=Object.assign({},t,i),f=a.maxIterations,o=a.map,c=a.isEqual,s=a.distanceBetween,m=a.mean;if(f<1)return[];var p=e.length;if(p<1)return[];var l,h=e;if(Array.isArray(u)){if((l=u.length)<1)return[];if(1===l)return[h.slice()];e=e.map(function(n){return o(n)}),u=u.map(function(n){return o(n)})}else{if((l=u)<1)return[];if(1===l)return[h.slice()];if(l>=p)return h.map(function(n){return[n]});u=(e=e.map(function(n){return o(n)})).slice(0,l)}var v,d,g=r(h,e);do{if(v=u.map(function(n){return[[],[],n]}),g.forEach(function(r){var t=r[0],e=r[1],u=n(v,function(n){var r=n[2];return s(e,r)}),i=u[0],a=u[1];i.push(t),a.push(e)}),--f<1)break;d=!1,u=v.map(function(n){var r=n[1],t=n[2];if(r.length<1)return t;var e=m(r);return c(t,e)||(d=!0),e})}while(d);return v.map(function(n){return n[0]})};return Object.assign(t,{maxIterations:1024,map:function(n){return n},isEqual:function(n,r){return n.every(function(n,t){return n===r[t]})},distanceBetween:function(n,r){var t=0;return n.forEach(function(n,e){t+=Math.pow(n-r[e],2)}),Math.sqrt(t)},mean:function(n){var r=n.length;if(r>0){var t=n[0].map(function(){return 0});return n.forEach(function(n){n.forEach(function(n,e){t[e]+=n/r})}),t}}}),t});
