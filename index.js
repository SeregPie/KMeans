!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).KMeans=r()}(this,function(){"use strict";function n(){return[]}var r=function(n,t){return n===t||!(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)&&n.every(function(n,e){return r(n,t[e])})},t=function(e,u,i){var f,a=Object.assign({},t,i),c=a.maxIterations,o=a.map,s=a.distance,m=a.mean;if(e.length<1)return[];if(Array.isArray(u)){if(u.length<1)return[];if(1===u.length)return[e.slice()];f=e.map(function(n){return o(n)}),u=u.map(function(n){return o(n)})}else{if(u<1)return[];if(1===u)return[e.slice()];if(u>=e.length)return e.map(function(n){return[n]});f=e.map(function(n){return o(n)}),u=f.slice(0,u)}for(var p=[],l=function(t){var e=u.map(n);if(f.forEach(function(n,r){var t,i,f;(f=(i=function(r,t){return s(n,u[t])})((t=e)[0],0),t.reduce(function(n,r,t){var e=i(r,t);return f>e&&(f=e,n=r),n})).push(r)}),e=e.filter(function(n){return n.length>0}),r(e,p))return"break";u=(p=e).map(function(n){return m(n.map(function(n){return f[n]}))})},d=0;d<c;d++){if("break"===l())break}return p.map(function(n){return n.map(function(n){return e[n]})})};return Object.assign(t,{maxIterations:1024,map:function(n){return n},distance:function(n,r){return Math.sqrt(n.reduce(function(n,t,e){return n+Math.pow(t-r[e],2)},0))},mean:function(n){return n.map(function(r){return r.map(function(r){return r/n.length})}).reduce(function(n,r){return n.map(function(n,t){return n+r[t]})})}}),t});
