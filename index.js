!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("just-my-luck"),require("@seregpie/vector-math")):"function"==typeof define&&define.amd?define(["just-my-luck","@seregpie/vector-math"],r):(e="undefined"!=typeof globalThis?globalThis:e||self).KMeans=r(e.JustMyLuck,e.VectorMath)}(this,(function(e,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e),a=n(r);function i(e){return Array.from({length:e})}function o(){return[]}var u=Object.assign((function(e,r,n){void 0===n&&(n={});var a=n.distance;void 0===a&&(a=u.distance);var f=n.map;void 0===f&&(f=u.map);var c=n.maxIterations;void 0===c&&(c=u.maxIterations);var m=n.mean;void 0===m&&(m=u.mean);var d=n.random;void 0===d&&(d=u.random);var s,v=Number.isFinite(r);if(v?s=r:(r=Array.from(r),s=r.length),!s)return[];if(e=Array.from(e),1===s)return[e];var p,l=new t.default(d),h=e.map(f);p=v?l.pickCombination(h,s):r.map(f);for(var y=[],b=function(e){var r=!0;if(h.forEach((function(e,n){var t,i,o=(t=function(r){return a(e,r)},i=0,p.map(t).reduce((function(e,r,n){return r<e&&(e=r,i=n),e})),i);o!==y[n]&&(y[n]=o,r=!1)})),r)return"break";var n=i(s).map(o);y.forEach((function(e,r){n[e].push(h[r])})),p=p.map((function(e,r){var t=n[r];return t.length&&(e=m.apply(void 0,t)),e}))},g=0;g<c;g++){if("break"===b())break}var k=i(s).map(o);return y.forEach((function(r,n){k[r].push(e[n])})),k}),{distance:a.default.distance,map:function(e){return e},maxIterations:1024,mean:a.default.mean,random:Math.random});return u}));
