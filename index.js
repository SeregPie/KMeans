!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("just-my-luck")):"function"==typeof define&&define.amd?define(["just-my-luck"],r):(n=n||self).KMeans=r(n.JustMyLuck)}(this,function(n){"use strict";function r(n){return n}function t(n,r){return Array.from({length:n},r)}function e(){return[]}n=n&&n.hasOwnProperty("default")?n.default:n;var a=function(u,o,i){void 0===i&&(i={});var f=i.distance;void 0===f&&(f=a.distance);var c=i.map;void 0===c&&(c=a.map);var m=i.maxIterations;void 0===m&&(m=a.maxIterations);var d=i.mean;void 0===d&&(d=a.mean);var s=i.random;void 0===s&&(s=a.random);var v,p=Number.isFinite(o);if(p?v=o:(o=Array.from(o),v=o.length),!v)return[];if(u=Array.from(u),1===v)return[u];var h,l=new n(s),y=u.map(c);h=p?l.items(y,v):o.map(c);for(var b=[],k=function(n){var a=!0;if(y.forEach(function(n,t){var e=function(n,t){void 0===t&&(t=r);var e=0;return n.map(t).reduce(function(n,r,t){return r<n&&(n=r,e=t),n}),e}(h,function(r){return f(n,r)});e!==b[t]&&(b[t]=e,a=!1)}),a)return"break";var u=t(v,e);b.forEach(function(n,r){u[n].push(y[r])}),h=h.map(function(n,r){var t=u[r];return t.length&&(n=d(t)),n})},g=0;g<m;g++){if("break"===k())break}var x=t(v,e);return b.forEach(function(n,r){x[n].push(u[r])}),x};return Object.assign(a,{distance:function(n,r){return Math.hypot.apply(Math,n.map(function(n,t){return n-r[t]}))},map:r,maxIterations:1024,mean:function(n){return n[0].map(function(r,t){return function(n){return n.reduce(function(n,r){return n+r})}(e=n.map(function(n){return n[t]}))/e.length;var e})},random:Math.random}),a});
